#!/bin/bash

TOP="$(readlink -f .)"

find "${TOP}"/meta-sifive -name "*.conf" | grep conf/machine | while read cf
do
    name="$(basename "${cf}" .conf)"
    desc="$(cat "${cf}" | grep "^#@DESCRIPTION" | cut -d' ' -f2-)"

    printf "%-30s %s\n" "${name}" "${desc}"
done
